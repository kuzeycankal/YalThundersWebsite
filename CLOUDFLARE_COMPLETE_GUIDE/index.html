<h1>ğŸš€ Cloudflare Pages + R2 - Komple Rehber</h1>
<h2>ğŸ“‹ ADIM 1: Cloudflare HesabÄ± (2 dakika)</h2>
<ol>
<li><strong>https://dash.cloudflare.com/sign-up</strong></li>
<li>Email + ÅŸifre ile kayÄ±t ol</li>
<li>Email'i doÄŸrula</li>
</ol>
<h2>ğŸ“¦ ADIM 2: R2 Storage Setup (5 dakika)</h2>
<h3>2.1 R2'yi Aktif Et</h3>
<ol>
<li>Dashboard'a gir: <strong>https://dash.cloudflare.com</strong></li>
<li>Sol menÃ¼den <strong>R2</strong> tÄ±kla</li>
<li><strong>Purchase R2</strong> veya <strong>Get Started</strong> tÄ±kla</li>
<li>Credit card ekle (Ã¼cret yok, sadece doÄŸrulama iÃ§in!)</li>
<li><strong>Enable R2</strong></li>
</ol>
<h3>2.2 Bucket OluÅŸtur</h3>
<ol>
<li><strong>Create bucket</strong> tÄ±kla</li>
<li>Settings:<pre><code>Bucket name: yal-thunders-academy
Location: Automatic
</code></pre>
</li>
<li><strong>Create bucket</strong></li>
</ol>
<h3>2.3 Public Access AÃ§</h3>
<ol>
<li>Bucket'a tÄ±kla: <strong>yal-thunders-academy</strong></li>
<li><strong>Settings</strong> tab</li>
<li><strong>Public Access</strong> â†’ <strong>Allow Access</strong></li>
<li><strong>Custom Domains</strong> altÄ±nda <strong>Connect Domain</strong> tÄ±kla (opsiyonel)
<ul>
<li>Kendi domain'in varsa: <code>cdn.yalthunders.com</code></li>
<li>Yoksa: Cloudflare <code>.r2.dev</code> domain'ini kullan</li>
</ul>
</li>
</ol>
<h3>2.4 R2 API Token</h3>
<ol>
<li>Sol menÃ¼den <strong>R2</strong> â†’ <strong>Manage R2 API Tokens</strong></li>
<li><strong>Create API Token</strong></li>
<li>Settings:<pre><code>Token name: academy-upload
Permissions: âœ… Object Read &amp; Write
Specify bucket: yal-thunders-academy
TTL: Forever
</code></pre>
</li>
<li><strong>Create API Token</strong></li>
<li><strong>BU BÄ°LGÄ°LERÄ° KAYDET</strong> (bir daha gÃ¶sterilmez!):<pre><code>Access Key ID: xxxxxxxxxxxx
Secret Access Key: yyyyyyyyyyyy
Endpoint: https://xxxxxx.r2.cloudflarestorage.com
</code></pre>
</li>
</ol>
<h3>2.5 Public URL Al</h3>
<ol>
<li>Bucket settings'de <strong>Public R2.dev Subdomain</strong>'i kontrol et</li>
<li>URL ÅŸuna benzer: <code>https://pub-xxxxx.r2.dev</code></li>
<li><strong>Bu URL'i kaydet!</strong></li>
</ol>
<h2>ğŸ“ ADIM 3: GitHub'a Push (1 dakika)</h2>
<pre><code class="language-bash">git add .
git commit -m &quot;Cloudflare Pages + R2 setup&quot;
git push origin main
</code></pre>
<h2>ğŸŒ ADIM 4: Cloudflare Pages Deploy (5 dakika)</h2>
<h3>4.1 Pages Projesi OluÅŸtur</h3>
<ol>
<li>Dashboard â†’ <strong>Pages</strong> (sol menÃ¼den)</li>
<li><strong>Create a project</strong></li>
<li><strong>Connect to Git</strong></li>
<li>GitHub'Ä± baÄŸla (izin ver)</li>
<li>Repository seÃ§: <strong>YalThundersWebsite</strong></li>
</ol>
<h3>4.2 Build Settings</h3>
<pre><code>Project name: yal-thunders-website
Production branch: main

Build settings:
  Framework preset: None (or Other)
  Build command: npm run build
  Build output directory: _site
  Root directory: /
</code></pre>
<h3>4.3 Environment Variables</h3>
<p><strong>Variables and Secrets</strong> bÃ¶lÃ¼mÃ¼nde ekle:</p>
<pre><code>NODE_VERSION = 18

R2_PUBLIC_URL = (R2 public URL, Ã¶rn: https://pub-xxxxx.r2.dev)
</code></pre>
<p><strong>NOT:</strong> R2 bucket binding Pages settings'den yapÄ±lacak, env'den deÄŸil!</p>
<h3>4.4 R2 Bucket Binding</h3>
<ol>
<li>Pages project â†’ <strong>Settings</strong> â†’ <strong>Functions</strong></li>
<li><strong>R2 bucket bindings</strong> â†’ <strong>Add binding</strong></li>
<li>Settings:<pre><code>Variable name: R2_BUCKET
R2 bucket: yal-thunders-academy
</code></pre>
</li>
<li><strong>Save</strong></li>
</ol>
<h3>4.5 Deploy!</h3>
<ol>
<li><strong>Save and Deploy</strong> tÄ±kla</li>
<li>Build izle (2-3 dakika)</li>
<li>âœ… Deploy successful!</li>
</ol>
<h2>ğŸ”§ ADIM 5: Test Et!</h2>
<ol>
<li>Site URL'ini aÃ§ (Ã¶rn: <code>https://yal-thunders-website.pages.dev</code>)</li>
<li><code>/academy/academy-admin.html</code></li>
<li><code>kuzeycankal@gmail.com</code> ile giriÅŸ</li>
<li>Video + thumbnail yÃ¼kle</li>
<li>âœ… <strong>Ã‡ALIÅIR!</strong></li>
</ol>
<h2>ğŸ“Š NasÄ±l Ã‡alÄ±ÅŸÄ±yor?</h2>
<pre><code>Browser â†’ /api/upload
         â†“
Cloudflare Pages Function (functions/api/upload.js)
         â†“
R2 Bucket (yal-thunders-academy)
         â†“
Public URL (https://pub-xxxxx.r2.dev/academy/videos/...)
         â†“
Firestore (metadata)
</code></pre>
<h2>âœ¨ Cloudflare vs Vercel</h2>
<table>
<thead>
<tr>
<th>Ã–zellik</th>
<th>Cloudflare</th>
<th>Vercel</th>
</tr>
</thead>
<tbody>
<tr>
<td>R2/Blob API</td>
<td>âœ… Ã‡ok kolay</td>
<td>âŒ KarmaÅŸÄ±k</td>
</tr>
<tr>
<td>Functions</td>
<td>âœ… Worker'lar</td>
<td>âŒ Sorunlu</td>
</tr>
<tr>
<td>Setup</td>
<td>âœ… 10 dakika</td>
<td>âŒ Ã‡alÄ±ÅŸmadÄ±</td>
</tr>
<tr>
<td>Ãœcretsiz Storage</td>
<td>âœ… 10GB</td>
<td>âŒ 100MB</td>
</tr>
<tr>
<td>GÃ¼venilirlik</td>
<td>âœ… %99.9</td>
<td>âŒ 404 errors</td>
</tr>
<tr>
<td>Global CDN</td>
<td>âœ… 300+ lokasyon</td>
<td>âœ… Ä°yi</td>
</tr>
</tbody>
</table>
<h2>ğŸ” Troubleshooting</h2>
<h3>&quot;R2_BUCKET is not defined&quot;</h3>
<ul>
<li>Pages â†’ Settings â†’ Functions â†’ R2 bucket bindings</li>
<li>Binding ekle: <code>R2_BUCKET</code> â†’ <code>yal-thunders-academy</code></li>
<li>Redeploy et</li>
</ul>
<h3>&quot;Public URL 404&quot;</h3>
<ul>
<li>R2 bucket â†’ Settings â†’ Public Access â†’ Enable</li>
<li>Public R2.dev subdomain'i kontrol et</li>
<li><code>R2_PUBLIC_URL</code> env variable'Ä±nÄ± gÃ¼ncelle</li>
</ul>
<h3>Build hatasÄ±</h3>
<pre><code class="language-bash">npm install
npm run build
</code></pre>
<p>Ã‡alÄ±ÅŸÄ±yorsa, git push yap</p>
<h3>Upload 404</h3>
<ul>
<li>Functions klasÃ¶rÃ¼ doÄŸru mu: <code>/functions/api/upload.js</code></li>
<li>Deployment logs kontrol et</li>
<li>R2 binding var mÄ± kontrol et</li>
</ul>
<h2>ğŸ’° Maliyetler</h2>
<p><strong>Cloudflare R2 - Free Tier:</strong></p>
<ul>
<li>âœ… 10 GB storage</li>
<li>âœ… 1 milyon Class A operations (write)</li>
<li>âœ… 10 milyon Class B operations (read)</li>
</ul>
<p><strong>Yeterli mi?</strong></p>
<ul>
<li>100 video (100MB each) = 10GB âœ…</li>
<li>Her video upload = 2 write operation</li>
<li>1000 video upload/ay = 2000 operations âœ…</li>
</ul>
<p><strong>TAMAMEN ÃœCRETSIZ!</strong> ğŸ‰</p>
<h2>ğŸ¯ Son Checklist</h2>
<ul>
<li>[x] Cloudflare hesabÄ± oluÅŸturuldu</li>
<li>[x] R2 bucket oluÅŸturuldu</li>
<li>[x] R2 public access aÃ§Ä±ldÄ±</li>
<li>[x] R2 API token alÄ±ndÄ±</li>
<li>[x] GitHub'a push yapÄ±ldÄ±</li>
<li>[x] Pages projesi oluÅŸturuldu</li>
<li>[x] Build settings yapÄ±landÄ±rÄ±ldÄ±</li>
<li>[x] R2 bucket binding eklendi</li>
<li>[ ] <strong>Ä°lk deploy</strong> â† ÅÄ°MDÄ° BU!</li>
<li>[ ] Test et</li>
</ul>
<h2>ğŸš€ DEPLOY ET!</h2>
<p><strong>Pages</strong> â†’ <strong>Create deployment</strong></p>
<p>veya</p>
<pre><code class="language-bash"># Git push otomatik deploy tetikler
git push origin main
</code></pre>
<p>2-3 dakika sonra Ã§alÄ±ÅŸÄ±r! âœ…</p>
<h2>ğŸ“± Custom Domain (Opsiyonel)</h2>
<ol>
<li>Pages â†’ Settings â†’ Custom domains</li>
<li><strong>Set up a custom domain</strong></li>
<li>Domain'ini ekle: <code>yalthunders.com</code></li>
<li>DNS kayÄ±tlarÄ± otomatik eklenir</li>
<li>SSL otomatik âœ…</li>
</ol>
<h2>ğŸŠ SONUÃ‡</h2>
<p>Cloudflare Pages + R2 = <strong>Vercel'den Ã§ok daha iyi!</strong></p>
<ul>
<li>âœ… GÃ¼venilir</li>
<li>âœ… HÄ±zlÄ±</li>
<li>âœ… Kolay setup</li>
<li>âœ… Daha fazla Ã¼cretsiz storage</li>
<li>âœ… Global CDN</li>
</ul>
<p><strong>Åimdi deploy et ve Ã§alÄ±ÅŸsÄ±n!</strong> ğŸš€</p>

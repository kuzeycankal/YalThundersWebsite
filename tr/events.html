<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YAL Thunders 9160 - Etkinlikler</title>

    <script>
        (function() {
            const storageKey = 'theme-preference';
            const theme = localStorage.getItem(storageKey) || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>

    <link rel="stylesheet" href="/tr/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
    <div class="redirect-banner" role="alert">
        <div>
            <strong>Bilgilendirme:</strong> Etkinlik akışı artık Eğitim sayfasında.
        </div>
        <div class="banner-actions">
            <button class="btn-text" id="cancelRedirect">Burada kal</button>
            <a class="btn-primary" href="/tr/academy.html">Eğitime git</a>
        </div>
    </div>

    <header class="site-header">
        <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Menü">
            <i class="fa-solid fa-bars"></i>
        </button>
        <a href="/tr/index.html" class="logo-container site-brand-link">
            <img src="/yal_thunders_logo.png" alt="YAL Thunders Logosu" class="logo">
            <span class="team-name">YAL THUNDERS 9160</span>
        </a>
        <nav>
            <ul>
                <li><a href="/tr/news.html">HABERLER</a></li>
                <li><a href="/tr/index.html">ANA SAYFA</a></li>
                <li><a href="/tr/frc.html">FRC NEDİR?</a></li>
                <li class="dropdown">
                    <a href="/tr/about.html">HAKKIMIZDA <i class="fa-solid fa-caret-down dropdown-caret"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="/tr/about.html#who-we-are">Biz Kimiz?</a></li>
                        <li><a href="/tr/about.html#our-story">Hikayemiz</a></li>
                        <li><a href="/tr/about.html#mission-vision">Misyon & Vizyon</a></li>
                        <li><a href="/tr/about.html#achievements">Başarılarımız</a></li>
                        <li><a href="/tr/about.html#alumni">Alumniler</a></li>
                    </ul>
                </li>
                <li><a href="/tr/media.html">MEDYA</a></li>
                <li><a href="/tr/events.html" class="active">ETKİNLİKLER</a></li>
                <li><a href="/tr/academy.html">EĞİTİM</a></li>
                <li><a href="/tr/contact.html">İLETİŞİM</a></li>
                <li class="mobile-auth-item" id="mobileAuthButtons"></li>
            </ul>
        </nav>
        <div class="header-right">
            <div class="auth-buttons" id="authButtons"></div>
            <div class="language-switcher">
                <a href="/events.html" class="lang-en">EN</a>
                <a href="/tr/events.html" class="lang-tr lang-active">TR</a>
            </div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Karanlık modu aç/kapa">
                <i class="fa-solid fa-moon"></i>
            </button>
        </div>
    </header>

    <main class="events-hub">
        <section class="events-hero">
            <div class="hero-copy">
                <div class="hero-label"><i class="fa-solid fa-compass"></i> Etkinlikler Eğitim sayfasına taşındı</div>
                <h1>Toplantılara katıl, kayıtları izle, eğitimlere devam et.</h1>
                <p>Etkinlik hazırlığı, canlı toplantılar ve kayıtlar artık Eğitim hub'ında. Buradan Google Meet benzeri oturumlara gir, kayıtları izle ve adminlerin planladığı akışı gör.</p>
                <div class="hero-actions">
                    <a class="btn-primary" href="/tr/academy.html"><i class="fa-solid fa-graduation-cap"></i> Eğitimi aç</a>
                    <a class="btn-secondary" href="#meetings"><i class="fa-solid fa-video"></i> Toplantı panosu</a>
                    <a class="btn-text" href="#videos"><i class="fa-solid fa-play"></i> Video arşivi</a>
                </div>
                <div class="hero-stats">
                    <span><i class="fa-solid fa-lock"></i> Şifreli odalar</span>
                    <span><i class="fa-solid fa-users"></i> Admin onaylı yüklemeler</span>
                    <span><i class="fa-solid fa-mobile-screen"></i> Mobil uyumlu</span>
                </div>
            </div>
            <div class="hero-panel">
                <div class="panel-header">
                    <span class="status-dot"></span> Anlık erişim
                    <span class="panel-tag">Etkinlikler → Eğitim</span>
                </div>
                <div class="panel-body">
                    <div class="panel-row">
                        <div>
                            <strong>Sıradaki toplantı</strong>
                            <p>Build Review — Bugün 19:00</p>
                        </div>
                        <button class="chip">Bağlantıyı kopyala</button>
                    </div>
                    <div class="panel-row">
                        <div>
                            <strong>Admin kanalı</strong>
                            <p>Güvenilen hesaplar anında yayınlar</p>
                        </div>
                        <a class="chip chip-cta" href="/admin/panel.html">Paneli aç</a>
                    </div>
                    <div class="panel-row">
                        <div>
                            <strong>Kayıt arşivi</strong>
                            <p>Strateji içeriklerini tekrar izle</p>
                        </div>
                        <button class="chip">Playlist'i aç</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="videos" class="events-videos">
            <div class="section-header">
                <div class="section-label"><i class="fa-solid fa-clapperboard"></i><span>İzle</span></div>
                <h2>Son Eğitim yüklemeleri</h2>
                <p>YouTube tarzı kartlarla Eğitim video arşivine hızlı geçiş yap.</p>
            </div>
            <div class="video-grid">
                <article class="video-card">
                    <div class="video-thumb"><span class="thumb-badge">12:24</span></div>
                    <div class="video-info">
                        <h3>Otonom rota anlatımı</h3>
                        <p>Geçen yarışmadan adım adım kodlama ipuçları.</p>
                        <div class="video-meta"><span><i class="fa-solid fa-eye"></i> 1.2k görüntüleme</span><span><i class="fa-solid fa-user-shield"></i> Admin öncelikli</span></div>
                    </div>
                </article>
                <article class="video-card">
                    <div class="video-thumb"><span class="thumb-badge">08:10</span></div>
                    <div class="video-info">
                        <h3>Elektrik güvenliği sprinti</h3>
                        <p>Üyelerin onaya gönderdiği hızlı hatırlatmalar.</p>
                        <div class="video-meta"><span><i class="fa-solid fa-eye"></i> 860 görüntüleme</span><span><i class="fa-solid fa-clock"></i> Onay bekliyor</span></div>
                    </div>
                </article>
                <article class="video-card">
                    <div class="video-thumb"><span class="thumb-badge">21:45</span></div>
                    <div class="video-info">
                        <h3>Strateji yuvarlak masa kaydı</h3>
                        <p>Mentorların anında yayınladığı toplantı kaydı.</p>
                        <div class="video-meta"><span><i class="fa-solid fa-eye"></i> 2.4k görüntüleme</span><span><i class="fa-solid fa-shield"></i> Şifreli oda</span></div>
                    </div>
                </article>
            </div>
            <div class="section-actions">
                <a class="btn-primary" href="/tr/academy.html#modules">Eğitim modüllerine git</a>
                <a class="btn-text" href="/tr/academy.html">Tüm videoları gör</a>
            </div>
        </section>

        <section id="meetings" class="events-meetings">
            <div class="section-header">
                <div class="section-label"><i class="fa-solid fa-calendar-days"></i><span>Güvenli odalar</span></div>
                <h2>Toplantılar ve canlı odalar</h2>
                <p>Adminlerin şifrelediği, bağlantısı kopyalanabilen Google Meet tarzı girişler.</p>
            </div>
            <div class="meeting-board">
                <div class="meeting-row">
                    <div>
                        <div class="meeting-title">Strateji & Scouting Sync</div>
                        <div class="meeting-sub">Cuma 19:00 — Online</div>
                    </div>
                    <div class="meeting-actions">
                        <span class="badge badge-lock"><i class="fa-solid fa-lock"></i> Korumalı</span>
                        <button class="chip">Bağlantıyı kopyala</button>
                        <button class="btn-primary">Şifre ile gir</button>
                    </div>
                </div>
                <div class="meeting-row">
                    <div>
                        <div class="meeting-title">Robot Build Soru-Cevap</div>
                        <div class="meeting-sub">Pazar 14:30 — Atölye</div>
                    </div>
                    <div class="meeting-actions">
                        <span class="badge"><i class="fa-solid fa-users"></i> Üyelere açık</span>
                        <button class="chip">Bağlantıyı kopyala</button>
                        <button class="btn-secondary">Odaya katıl</button>
                    </div>
                </div>
                <div class="meeting-row">
                    <div>
                        <div class="meeting-title">Tanıtım planlama</div>
                        <div class="meeting-sub">Gelecek Çarşamba — Hibrit</div>
                    </div>
                    <div class="meeting-actions">
                        <span class="badge badge-highlight"><i class="fa-solid fa-star"></i> Sadece admin</span>
                        <button class="chip">Özeti kopyala</button>
                        <a class="btn-text" href="/admin/panel.html">Yönet</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="admin-strip">
            <div class="admin-strip-content">
                <div>
                    <div class="section-label"><i class="fa-solid fa-user-shield"></i><span>Admin hızlı geçişi</span></div>
                    <h2>Beklemeden yayınla</h2>
                    <p>Adminler YAL Thunders hesabıyla giriş yapıp videoları anında yayına alır, toplantı odaları açar ve üyelerin yüklemelerini onaylar.</p>
                </div>
                <div class="admin-actions">
                    <a class="btn-primary" href="/admin/panel.html"><i class="fa-solid fa-gauge-high"></i> Admin paneli</a>
                    <a class="btn-secondary" href="/tr/academy.html"><i class="fa-solid fa-graduation-cap"></i> Eğitime dön</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer-new"></footer>

    <script src="https://unpkg.com/swup@4"></script>
    <script type="module">
        import * as Auth from '/auth-firebase.js';

        let redirectTimer = null;
        const redirectDelay = 8000;

        function scheduleRedirect() {
            redirectTimer = setTimeout(() => { window.location.href = '/tr/academy.html'; }, redirectDelay);
        }

        function cancelRedirect() {
            if (redirectTimer) { clearTimeout(redirectTimer); }
            const banner = document.querySelector('.redirect-banner');
            if (banner) { banner.classList.add('banner-paused'); }
        }

        function initPage() {
            initTheme();
            initMobileMenu();
            initSwup();
            scheduleRedirect();
            const cancelBtn = document.getElementById('cancelRedirect');
            if (cancelBtn) { cancelBtn.addEventListener('click', cancelRedirect); }
            if (Auth.isAuthReady() && typeof window.updateAuthButtons === 'function') {
                window.updateAuthButtons();
            }
        }

        document.addEventListener('authStateReady', initPage);
        if (Auth.isAuthReady()) { initPage(); }

        function initTheme() {
            const storageKey = 'theme-preference';
            const toggle = document.getElementById('theme-toggle');
            const getTheme = () => document.documentElement.getAttribute('data-theme') || localStorage.getItem(storageKey) || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            const setTheme = (theme) => { document.documentElement.setAttribute('data-theme', theme); localStorage.setItem(storageKey, theme); updateIcon(theme); };
            const updateIcon = (theme) => { if (toggle) { toggle.innerHTML = theme === 'dark' ? '<i class="fa-solid fa-sun"></i>' : '<i class="fa-solid fa-moon"></i>'; } };
            if (toggle && !toggle.hasAttribute('data-listener-added')) {
                toggle.addEventListener('click', () => { const currentTheme = getTheme(); const newTheme = currentTheme === 'light' ? 'dark' : 'light'; setTheme(newTheme); });
                toggle.setAttribute('data-listener-added', 'true');
            }
            updateIcon(getTheme());
        }

        function initMobileMenu() {
            const menuToggle = document.getElementById('mobileMenuToggle');
            const nav = document.querySelector('nav');
            const dropdowns = document.querySelectorAll('nav li.dropdown > a');
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    nav.classList.toggle('active');
                    const icon = this.querySelector('i');
                    if (nav.classList.contains('active')) { icon.classList.remove('fa-bars'); icon.classList.add('fa-times'); }
                    else { icon.classList.remove('fa-times'); icon.classList.add('fa-bars'); }
                });
            }
            dropdowns.forEach(dropdown => {
                dropdown.addEventListener('click', function(e) { if (window.innerWidth <= 1024) { e.preventDefault(); this.parentElement.classList.toggle('active'); } });
            });
            document.addEventListener('click', function(e) {
                if (nav && menuToggle && !nav.contains(e.target) && !menuToggle.contains(e.target) && nav.classList.contains('active')) {
                    nav.classList.remove('active');
                    menuToggle.querySelector('i').classList.remove('fa-times');
                    menuToggle.querySelector('i').classList.add('fa-bars');
                }
            });
        }

        function updateMobileAuthButtons() {
            const authButtons = document.getElementById('authButtons');
            const mobileAuthButtons = document.getElementById('mobileAuthButtons');
            if (authButtons && mobileAuthButtons) {
                const clonedHTML = authButtons.innerHTML;
                if (clonedHTML) {
                    mobileAuthButtons.innerHTML = clonedHTML;
                    const clonedUserBtn = mobileAuthButtons.querySelector('.user-profile-btn');
                    if (clonedUserBtn && typeof toggleUserMenu === 'function') { clonedUserBtn.onclick = toggleUserMenu; }
                }
            }
        }
        document.addEventListener('authStateReady', updateMobileAuthButtons);

        function initSwup() {
            if (typeof Swup === 'undefined') return;
            const swup = new Swup();
            swup.hooks.on('page:view', () => {
                initTheme();
                initMobileMenu();
                if (typeof window.updateAuthButtons === 'function') {
                    window.updateAuthButtons();
                }
            });
        }
    </script>
</body>
</html>
